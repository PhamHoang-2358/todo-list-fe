<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Task Manager</title>
    <link rel="stylesheet" href="task.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="dashboard">
      <aside class="sidebar">
        <h3>Projects</h3>
        <ul id="projectList"></ul>
        <form id="formAddProject" autocomplete="off">
          <input
            type="text"
            id="inputProjectName"
            placeholder="Thêm dự án..."
          />
          <button type="submit"><i class="fas fa-plus"></i></button>
        </form>
        <button id="logoutBtn">
          <i class="fas fa-sign-out-alt"></i> Đăng xuất
        </button>
      </aside>
      <main class="main-content">
        <section class="form-chart-wrapper">
          <div class="card form-task-box">
            <h2 id="currentProjectName">Tên dự án</h2>
            <h3 class="form-title">
              <i class="fas fa-plus-circle"></i> Thêm Task
            </h3>
            <form id="formTask">
              <input
                type="text"
                id="inputTaskTitle"
                placeholder="Tên công việc"
              />
              <input type="text" id="inputTaskContent" placeholder="Chi tiết" />
              <select id="inputTaskStatus">
                <option value="notstarted">Chưa bắt đầu</option>
                <option value="inprogress">Đang thực hiện</option>
                <option value="done">Hoàn thành</option>
              </select>
              <select id="inputTaskPriority">
                <option value="low">Thấp</option>
                <option value="medium" selected>Trung bình</option>
                <option value="high">Cao</option>
              </select>
              <input type="date" id="inputTaskDeadline" />
              <input
                type="text"
                id="inputTaskAssignee"
                placeholder="Người phụ trách"
              />
              <input type="file" id="inputTaskImage" accept="image/*" />
              <button type="submit">
                <i class="fas fa-plus"></i> Thêm Task
              </button>
            </form>
          </div>

          <div class="card chart-box">
            <div class="chart-stats-text">
              <p style="color: #fb8c00">
                Chưa bắt đầu: <span id="countNotStarted">0</span>
              </p>
              <p style="color: #42a5f5">
                Đang thực hiện: <span id="countInProgress">0</span>
              </p>
              <p style="color: #26c6da">
                Hoàn thành: <span id="countDone">0</span>
              </p>
              <p style="color: #000">Tổng: <span id="countTotal">0</span></p>
            </div>
            <canvas id="taskChart" width="200" height="200"></canvas>
          </div>
        </section>

        <!-- Lịch gộp chức năng: tổng quan + chọn ngày -->
        <section class="calendar-section">
          <div class="calendar-header-row">
            <h3 id="calendarMonthLabel">Lịch công việc</h3>
            <button id="btnToday">Hôm nay</button>
          </div>
          <div id="unifiedCalendar" class="custom-calendar-grid"></div>
          <h4 id="selectedDateLabel">Công việc ngày <span>--/--/----</span></h4>
          <ul id="taskOfDayList" class="task-of-day-list"></ul>
        </section>

        <!-- Bọc filter + task list trong 1 khối ngang -->
        <section class="filter-task-wrapper">
          <div class="filter-box">
            <h3>Bộ lọc công việc</h3>
            <input
              type="text"
              id="inputSearchTask"
              placeholder="Tìm kiếm công việc..."
            />
            <select id="filterStatus">
              <option value="all">Tất cả trạng thái</option>
              <option value="notstarted">Chưa bắt đầu</option>
              <option value="inprogress">Đang thực hiện</option>
              <option value="done">Hoàn thành</option>
            </select>
            <select id="filterPriority">
              <option value="all">Tất cả ưu tiên</option>
              <option value="high">Cao</option>
              <option value="medium">Trung bình</option>
              <option value="low">Thấp</option>
            </select>
            <input type="date" id="filterDeadline" />
            <button id="clearFilterBtn">Xóa lọc</button>
          </div>

          <div class="task-list-box">
            <ul id="taskList"></ul>
          </div>
        </section>
      </main>
    </div>
    <script src="task.js"></script>
  </body>
</html>
