<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Task Manager</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- CSS của bạn -->
    <link rel="stylesheet" href="task.css" />
    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <div class="dashboard-wrapper">
      <div class="task-dashboard">
        <!-- ============ SIDEBAR ============ -->
        <aside class="sidebar">
          <!-- Projects -->
          <section class="projects-section">
            <h3>Projects</h3>
            <ul id="projectList"></ul>

            <form id="formAddProject" autocomplete="off">
              <input
                type="text"
                id="inputProjectName"
                placeholder="Thêm dự án..."
              />
              <button type="submit" title="Thêm dự án">
                <i class="fas fa-plus"></i>
              </button>
            </form>
          </section>

          <hr class="sidebar-divider" />

          <!-- Đang mở -->
          <div id="currentProjectDisplay" class="current-project-label">
            <span id="currentProjectName">--</span>
          </div>

          <!-- Thêm Task -->
          <section class="task-form">
            <h3 class="form-title">
              <i class="fas fa-plus-circle"></i> Thêm Task
            </h3>
            <form id="formTask" autocomplete="off">
              <input
                type="text"
                id="inputTaskTitle"
                placeholder="Tên công việc"
              />
              <input type="text" id="inputTaskContent" placeholder="Chi tiết" />

              <select id="inputTaskStatus" title="Trạng thái">
                <option value="notstarted">Chưa bắt đầu</option>
                <option value="inprogress">Đang thực hiện</option>
                <option value="done">Hoàn thành</option>
              </select>

              <select id="inputTaskPriority" title="Ưu tiên">
                <option value="low">Thấp</option>
                <option value="medium" selected>Trung bình</option>
                <option value="high">Cao</option>
              </select>

              <input type="date" id="inputTaskDeadline" />
              <input
                type="text"
                id="inputTaskAssignee"
                placeholder="Người phụ trách"
              />
              <input type="file" id="inputTaskImage" accept="image/*" />

              <button type="submit">
                <i class="fas fa-plus"></i> Thêm Task
              </button>
            </form>
          </section>

          <!-- Đăng xuất (dưới cùng) -->
          <button id="logoutBtn" class="logout-bottom">
            <i class="fas fa-sign-out-alt"></i> Đăng xuất
          </button>
        </aside>

        <!-- ============ MAIN CONTENT ============ -->
        <main class="main-content">
          <!-- Hàng 1: Lịch + Biểu đồ -->
          <div class="top-row">
            <!-- Lịch -->
            <section class="calendar-box card-box">
              <div class="calendar-header-row">
                <h3 id="calendarMonthLabel">Lịch công việc</h3>
                <button id="btnToday">Hôm nay</button>
              </div>

              <div id="unifiedCalendar" class="custom-calendar-grid"></div>

              <h4 id="selectedDateLabel">
                Công việc ngày <span>--/--/----</span>
              </h4>
              <ul id="taskOfDayList" class="task-of-day-list"></ul>
            </section>

            <!-- Biểu đồ -->
            <section class="chart-box card-box">
              <div class="chart-stats-text">
                <p style="color: #fb8c00">
                  Chưa bắt đầu: <span id="countNotStarted">0</span>
                </p>
                <p style="color: #42a5f5">
                  Đang thực hiện: <span id="countInProgress">0</span>
                </p>
                <p style="color: #26c6da">
                  Hoàn thành: <span id="countDone">0</span>
                </p>
                <p style="color: #000">Tổng: <span id="countTotal">0</span></p>
              </div>
              <canvas id="taskChart" width="200" height="200"></canvas>
            </section>
          </div>

          <!-- Hàng 2: Bộ lọc + Danh sách -->
          <div class="bottom-row">
            <!-- Bộ lọc -->
            <section class="filter-box">
              <h3>Bộ lọc công việc</h3>
              <input
                type="text"
                id="inputSearchTask"
                placeholder="Tìm kiếm công việc..."
              />
              <select id="filterStatus">
                <option value="all">Tất cả trạng thái</option>
                <option value="notstarted">Chưa bắt đầu</option>
                <option value="inprogress">Đang thực hiện</option>
                <option value="done">Hoàn thành</option>
              </select>
              <select id="filterPriority">
                <option value="all">Tất cả ưu tiên</option>
                <option value="high">Cao</option>
                <option value="medium">Trung bình</option>
                <option value="low">Thấp</option>
              </select>
              <input type="date" id="filterDeadline" />
              <button id="clearFilterBtn">Xóa lọc</button>
            </section>

            <!-- Danh sách task -->
            <section class="task-list-box">
              <ul id="taskList"></ul>
            </section>
          </div>
        </main>
      </div>
    </div>

    <script src="task.js"></script>
  </body>
</html>
