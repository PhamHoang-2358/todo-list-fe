<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Task App | Trang ch·ªß</title>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <!-- CSS ch√≠nh -->
    <link rel="stylesheet" href="styles/dashboard-home.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <div class="dashboard-home">
      <!-- Sidebar -->
      <nav class="sidebar">
        <h2><i class="fa-solid fa-list-check"></i> Task App</h2>
        <div class="sidebar-btn-group">
          <a href="features/src/user/login.html" class="btn">ƒêƒÉng nh·∫≠p</a>
          <a href="features/src/user/register.html" class="btn btn-outline"
            >ƒêƒÉng k√Ω</a
          >
        </div>
      </nav>

      <!-- N·ªôi dung ch√≠nh -->
      <main class="main-home-content">
        <div class="greet-title">üëã Ch√†o m·ª´ng ƒë·∫øn v·ªõi Task App!</div>
        <div class="desc">
          Qu·∫£n l√Ω d·ª± √°n, c√¥ng vi·ªác, theo d√µi ti·∫øn ƒë·ªô v√† t√†i ch√≠nh v·ªõi dashboard
          hi·ªán ƒë·∫°i.
        </div>

        <!-- Widgets -->
        <div class="widgets">
          <div class="widget" id="weather">
            <h3>Th·ªùi ti·∫øt h√¥m nay</h3>
            <div id="weather-info">ƒêang t·∫£i...</div>
          </div>

          <div class="widget" id="quote">
            <h3>Quote h√¥m nay</h3>
            <div id="quote-text">ƒêang t·∫£i...</div>
          </div>

          <div class="widget" id="music">
            <h3>Nh·∫°c h√¥m nay</h3>
            <input type="file" id="musicUpload" accept="audio/*" />
            <audio controls id="audioPlayer">
              <source src="" type="audio/mp3" />
              Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ audio.
            </audio>
          </div>

          <div class="widget" id="finance-chart">
            <h3>Bi·ªÉu ƒë·ªì t√†i ch√≠nh</h3>
            <canvas id="financeChart" width="280" height="120"></canvas>
          </div>
        </div>

        <div class="footer">&copy; 2025 Task App</div>
      </main>
    </div>

    <!-- Script -->
    <script>
      // Th·ªùi ti·∫øt
      fetch("https://wttr.in/Hanoi?format=3")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("weather-info").textContent = data;
        });

      // Quote tƒ©nh (do l·ªói HTTPS khi fetch)
      document.getElementById("quote-text").textContent =
        '"Cu·ªôc s·ªëng l√† 10% nh·ªØng g√¨ x·∫£y ra v·ªõi b·∫°n v√† 90% c√°ch b·∫°n ph·∫£n ·ª©ng v·ªõi n√≥." ‚Äì Charles R. Swindoll';

      // Nh·∫°c
      document
        .getElementById("musicUpload")
        .addEventListener("change", function (event) {
          const file = event.target.files[0];
          if (file) {
            const audioPlayer = document.getElementById("audioPlayer");
            const source = audioPlayer.querySelector("source");
            source.src = URL.createObjectURL(file);
            audioPlayer.load();
            audioPlayer.play();
          }
        });

      // Bi·ªÉu ƒë·ªì
      window.onload = function () {
        const ctx = document.getElementById("financeChart").getContext("2d");
        new Chart(ctx, {
          type: "bar",
          data: {
            labels: ["T1", "T2", "T3", "T4", "T5"],
            datasets: [
              {
                label: "VNIndex",
                data: [1100, 1120, 1130, 1140, 1155],
                backgroundColor: "#0288d1aa",
              },
            ],
          },
          options: {
            plugins: {
              legend: { labels: { color: "#333" } },
            },
            scales: {
              x: { ticks: { color: "#444" } },
              y: { ticks: { color: "#444" } },
            },
          },
        });
      };
    </script>
  </body>
</html>
