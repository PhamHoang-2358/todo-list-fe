<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Task App | Trang ch·ªß</title>
    <link rel="icon" href="data:," />

    <!-- Font Awesome (icons) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <!-- CSS giao di·ªán -->
    <link rel="stylesheet" href="styles/dashboard-home.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <!-- N√∫t hi·ªÉn th·ªã/·∫©n ƒëƒÉng nh·∫≠p -->
    <button id="showLoginBtn" class="show-login-btn">
      <i class="fas fa-sign-in-alt"></i> ƒêƒÉng nh·∫≠p
    </button>
    <button id="hideLoginBtn" class="hide-login-btn" style="display: none">
      <i class="fas fa-arrow-circle-left"></i> Quay v·ªÅ
    </button>

    <div class="dashboard-home">
      <!-- Form ƒëƒÉng nh·∫≠p -->
      <div class="sidebar-login" style="display: none">
        <h2>ƒêƒÉng nh·∫≠p</h2>
        <form id="formLogin" novalidate>
          <!-- Input ID/email -->
          <div class="input-group">
            <i class="fas fa-user"></i>
            <input
              type="text"
              id="inputLoginId"
              placeholder="Email ho·∫∑c ID"
              autocomplete="username"
            />
          </div>
          <div class="error" id="errorLoginId">
            Vui l√≤ng nh·∫≠p ID ho·∫∑c Email!
          </div>

          <!-- Input Password -->
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input
              type="password"
              id="inputLoginPassword"
              placeholder="Password"
              autocomplete="current-password"
            />
          </div>
          <div class="error" id="errorLoginPassword">
            Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u!
          </div>

          <!-- Checkbox Remember -->
          <div class="options">
            <label>
              <input type="checkbox" id="rememberMe" /> Remember Me
            </label>
          </div>

          <!-- N√∫t ƒëƒÉng nh·∫≠p -->
          <button type="submit" class="btn-login">ƒêƒÉng nh·∫≠p</button>

          <!-- Link ƒëƒÉng k√Ω -->
          <p class="register-link">
            Ch∆∞a c√≥ t√†i kho·∫£n?
            <a href="features/src/user/register.html">ƒêƒÉng k√Ω</a>
          </p>
        </form>
      </div>

      <!-- N·ªôi dung ch√≠nh c·ªßa trang -->
      <main class="main-home-content">
        <div class="greet-title">üëã Ch√†o m·ª´ng ƒë·∫øn v·ªõi Task App!</div>
        <div class="desc">
          Qu·∫£n l√Ω d·ª± √°n, c√¥ng vi·ªác, theo d√µi ti·∫øn ƒë·ªô v√† t√†i ch√≠nh v·ªõi dashboard
          hi·ªán ƒë·∫°i.
        </div>

        <!-- C√°c widget -->
        <div class="widgets">
          <!-- WEATHER -->
          <div class="widget" id="weather">
            <h3>Th·ªùi ti·∫øt h√¥m nay</h3>

            <!-- ƒëi·ªÅu khi·ªÉn nh·ªè: ƒë·ªïi th√†nh ph·ªë / refresh -->
            <div
              class="wx-controls"
              style="
                display: flex;
                gap: 8px;
                align-items: center;
                margin-bottom: 8px;
              "
            >
              <input
                id="weatherCity"
                type="text"
                placeholder="Nh·∫≠p th√†nh ph·ªë (vd: Hanoi)"
                style="
                  flex: 1;
                  padding: 8px 10px;
                  border: 1px solid #cbd5e1;
                  border-radius: 10px;
                  font-size: 14px;
                "
              />
              <button
                id="weatherRefresh"
                title="L√†m m·ªõi"
                style="
                  border: 0;
                  background: #2563eb;
                  color: #fff;
                  border-radius: 10px;
                  padding: 8px 10px;
                  cursor: pointer;
                "
              >
                <i class="fa-solid fa-rotate"></i>
              </button>
            </div>

            <!-- n·ªôi dung chi ti·∫øt s·∫Ω ƒë·ªï v√†o ƒë√¢y -->
            <div id="weather-info">ƒêang t·∫£i...</div>
          </div>

          <!-- QUOTE -->
          <div class="widget quote-card" id="quote">
            <h3><i class="fa-solid fa-quote-left"></i> Quote h√¥m nay</h3>
            <div id="quote-text">
              <div class="q-text">ƒêang t·∫£i...</div>
            </div>
          </div>

          <!-- MUSIC -->
          <div class="widget" id="music">
            <h3>Nh·∫°c h√¥m nay</h3>

            <!-- ch·ªçn nh·∫°c c√≥ s·∫µn trong d·ª± √°n (tu·ª≥ ch·ªçn) -->
            <div style="display: flex; gap: 8px; margin-bottom: 8px">
              <select
                id="musicSelect"
                style="
                  flex: 1;
                  padding: 8px 10px;
                  border: 1px solid #cbd5e1;
                  border-radius: 10px;
                  font-size: 14px;
                "
              >
                <option value="">‚Äî Ch·ªçn b√†i c√≥ s·∫µn ‚Äî</option>
                <!-- TIP: copy file mp3 v√†o th∆∞ m·ª•c `music/` r·ªìi th√™m option nh∆∞ d∆∞·ªõi -->
                <!-- <option value="music/sample1.mp3">Sample 1</option> -->
                <!-- <option value="music/sample2.mp3">Sample 2</option> -->
              </select>
              <label
                for="musicUpload"
                style="
                  display: inline-flex;
                  align-items: center;
                  gap: 6px;
                  background: #eef2ff;
                  color: #1e40af;
                  border-radius: 10px;
                  padding: 8px 10px;
                  cursor: pointer;
                "
              >
                <i class="fa-regular fa-file-audio"></i> T·∫£i t·ªáp
              </label>
              <input
                type="file"
                id="musicUpload"
                accept="audio/*"
                style="display: none"
              />
            </div>

            <audio
              controls
              id="audioPlayer"
              preload="metadata"
              controlslist="nodownload"
            >
              <source src="" type="audio/mp3" />
              Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ audio.
            </audio>

            <!-- khung th√¥ng tin ƒë·ªÉ b·ªõt tr·ªëng; JS s·∫Ω c·∫≠p nh·∫≠t -->
            <div
              class="music-info"
              style="
                margin-top: 10px;
                display: flex;
                flex-direction: column;
                gap: 8px;
              "
            >
              <div class="music-meta">
                <span id="mName">Ch∆∞a ch·ªçn t·ªáp</span> ‚Ä¢
                <span id="mSize">0 KB</span>
              </div>
              <div
                class="music-progress"
                style="
                  height: 6px;
                  background: #e5e7eb;
                  border-radius: 999px;
                  overflow: hidden;
                "
              >
                <div
                  id="mBar"
                  style="height: 100%; width: 0; background: #3b82f6"
                ></div>
              </div>
              <div
                class="music-time"
                style="
                  display: flex;
                  justify-content: space-between;
                  font-size: 12.5px;
                  color: #64748b;
                "
              >
                <span id="mCur">0:00</span><span id="mDur">0:00</span>
              </div>
              <div class="music-history">
                <b>G·∫ßn ƒë√¢y:</b>
                <ul id="mHist" style="margin: 6px 0 0; padding-left: 18px">
                  <li>Tr·ªëng</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- CHART -->
          <div class="widget" id="finance-chart">
            <h3>Bi·ªÉu ƒë·ªì t√†i ch√≠nh</h3>
            <!-- chi·ªÅu cao th·ª±c s·∫Ω do CSS kh·ªëng ch·∫ø (260px) -->
            <canvas id="financeChart"></canvas>
          </div>
        </div>

        <div class="footer">&copy; 2025 Task App</div>
      </main>
    </div>

    <!-- Script x·ª≠ l√Ω JS -->
    <script src="scripts/dashboard-home.js"></script>

    <!-- G·ª£i √Ω: n·∫øu b·∫°n mu·ªën b·∫£n th·ªùi ti·∫øt/quote/nh·∫°c ‚Äúƒë·∫ßy‚Äù h∆°n, d√πng c√°c h√†m n√¢ng c·∫•p ƒë√£ g·ª≠i tr∆∞·ªõc ƒë√≥:
         - loadWeatherRich(), enhanceQuote(), enhanceMusic()  -->
    <script>
      // Optional wiring nh·ªè cho n√∫t refresh/city & ch·ªçn nh·∫°c c√≥ s·∫µn (kh√¥ng ƒë·ª•ng code c≈©)
      (function () {
        const cityInput = document.getElementById("weatherCity");
        const btnRefresh = document.getElementById("weatherRefresh");
        if (btnRefresh) {
          btnRefresh.addEventListener("click", () => {
            const city = (cityInput?.value || "Hanoi").trim();
            if (typeof loadWeatherRich === "function") loadWeatherRich(city);
          });
        }
        const sel = document.getElementById("musicSelect");
        if (sel) {
          sel.addEventListener("change", (e) => {
            const val = e.target.value;
            if (!val) return;
            const audio = document.getElementById("audioPlayer");
            const src = audio.querySelector("source");
            src.src = val;
            audio.load();
            audio.play().catch(() => {});
          });
        }
      })();
    </script>
  </body>
</html>
